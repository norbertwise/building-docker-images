pipeline{
    agent{
        docker{
            image 'node:19-alpine'
        }
    }
    environment{
            DOCKER_IMAGE = 'node:19-alpine'
            REGISTRY_CREDNTIALS = credentials('dockerbuild')
        }
stages{
    stage('build'){
        steps{
        scripts{
   
        checkout scm
        def customImage = docker.build("patnorbs/web-app .")

        docker.withRegistry('https://registry.hub.docker.com', 'dockerbuild') 
customImage.push()}
        
        /* Push the container to the custom Registry */
        
    
        }
        
    
        }
    }
}




