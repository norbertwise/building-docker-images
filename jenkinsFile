pipeline{
    agent{
        docker{
            image 'node:19-alpine'
        }
    }
    environment{
            DOCKER_IMAGE = 'node:19-alpine'
            REGISTRY_CREDNTIALS = credentials('dockerbuild')
        }
stages{
    stage('build'){
        steps{
        scripts{
   
        checkout scm

         docker.withRegistry('https://registry.hub.docker.com', 'dockerbuild') {

        def customImage = docker.build("patnorbs/web-app")

        /* Push the container to the custom Registry */
        customImage.push()
    
        }
        
    
        }
    }
}


}
}
