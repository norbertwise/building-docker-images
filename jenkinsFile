pipeline{
    agent{
        docker{
            image 'node:19-alpine'
        }
        
    }


stages{
    stage('git code'){
        steps{
            git branch : 'main' , url : 'https://github.com/norbertwise/building-docker-images.git'                                   
        }
    }

stage('docker  build'){
    steps{
                         withCredentials([usernamePassword(credentialsId: 'dockerbuild', passwordVariable: 'password', usernameVariable: 'username')]){
                         sh '''
                            echo "${password} | docker login -u ${username} --password-stdin"
                         '''
                             
        
    }
}



    }



}
    
}







