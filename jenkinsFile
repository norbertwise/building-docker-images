pipeline{
    agent{
        docker{
            image 'node:19-alpine'
            reuseNode: true
        
            
        }
    }

stages{
    stage('git checkout'){
        steps{
            git branch:'main' , url:'https://github.com/norbertwise/building-docker-images.git'
        }
    }


}


stage('npm install'){
    steps{
        sh 'npm install'
    }
}


stage('docker build and tag'){
    steps{
        sh'''
        docker build -t my-app:v3.0 .
        docker tag my-app patnorbs/my-app:v3.0 
        '''
    }
}




}


