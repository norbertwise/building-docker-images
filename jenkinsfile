pipeline{

	agent {
        docker{
            image 'node:19-alpine'
        }
    }
environment{
		REGISTRY_CREDENTIALS = credentials('docker_cred')
}
	
	stages {
	    
	    stage('checkout') {

			steps {
				git branch : 'main' , url : 'https://github.com/norbertwise/building-docker-images.git'
			}
		}

		stage(' login docker') {

			steps {
			
				sh 'echo $DOCKERHUB_CREDENTIALS_PSW | docker login -u $DOCKERHUB_CREDENTIALS_USR --password-stdin'
			}
		}

	}

}